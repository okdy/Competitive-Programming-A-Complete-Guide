$TXT[0...N-1]$의 문자열과 $PAT[0...M-1]$의 패턴문자열이 주어졌을때 `search(char pat[], char txt[])` 형태의 모든 패턴을 문자열에서 검색하는 함수를 작성해야 한다고 하자 ($n > m$이라 가정) 

가장 빠른 시간복잡도는 $O(N)$일 것이다. 이글에서는 문자열에 전처리과정을 거쳐서 접미사트리를 $O(N)$의 시간복잡도에 만든 뒤, 모든 패턴검색을 $O(M)$의 시간복잡도로 검색가능하게 만들것이다.

주어진 문자열에 대한 접미사트리는 주어진 문자열의 접미사에 대한 압축된 트라이(Trie)를 의미한다. 다음 단어를 통해 압축트라이가 무엇인지 알아보자

```
bear, bell, bid, bull, buy, sell, stock, stop
```

![[suffix_tree_1.png]]

위의 그림은 입력된 문자열 집합에 대한 표준적인 트라이 자료구조를 나타낸다. 아래는 그 트라이를 압축시킨 것으로 단일노드를 이어붙혀 (채이닝) 

![[suffix_tree_2.png]]

**어떻게 접미사 트리를 만들까?** 접미사 트리는 트라이의 모든 접미사를 압축한다. 아래의 방법은 주어진 문자열에서 접미사 트리를 만드는 과정을 추상적으로 설명한다.

```
banana\0
anana\0
nana\0
ana\0
na\0
a\0
\0
```

위의 